--
-- PostgreSQL database dump
--

-- Dumped from database version 16.9 (Ubuntu 16.9-0ubuntu0.24.04.1)
-- Dumped by pg_dump version 16.9 (Ubuntu 16.9-0ubuntu0.24.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: agendamiento; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.agendamiento (
    idagendamiento integer NOT NULL,
    idbox integer,
    idfuncionario integer,
    idpaciente integer,
    fecha date NOT NULL,
    horaentrada time without time zone NOT NULL,
    horasalida time without time zone NOT NULL
);


ALTER TABLE public.agendamiento OWNER TO myr;

--
-- Name: agendamiento_idagendamiento_seq; Type: SEQUENCE; Schema: public; Owner: myr
--

ALTER TABLE public.agendamiento ALTER COLUMN idagendamiento ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.agendamiento_idagendamiento_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: box; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.box (
    idbox integer NOT NULL,
    idespecialidadbox integer,
    pasillo character varying(40) NOT NULL
);


ALTER TABLE public.box OWNER TO myr;

--
-- Name: box_idbox_seq; Type: SEQUENCE; Schema: public; Owner: myr
--

ALTER TABLE public.box ALTER COLUMN idbox ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.box_idbox_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: especialidadbox; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.especialidadbox (
    idespecialidadbox integer NOT NULL,
    especialidad character varying(20) NOT NULL
);


ALTER TABLE public.especialidadbox OWNER TO myr;

--
-- Name: especialidadbox_idespecialidadbox_seq; Type: SEQUENCE; Schema: public; Owner: myr
--

ALTER TABLE public.especialidadbox ALTER COLUMN idespecialidadbox ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.especialidadbox_idespecialidadbox_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: estadoagendamiento; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.estadoagendamiento (
    idagendamiento integer NOT NULL,
    estado character varying(30) NOT NULL,
    fechaestado date NOT NULL
);


ALTER TABLE public.estadoagendamiento OWNER TO myr;

--
-- Name: funcionario; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.funcionario (
    idfuncionario integer NOT NULL,
    idtipofuncionario integer,
    nombre character varying(30) NOT NULL,
    rut character varying(12) NOT NULL
);


ALTER TABLE public.funcionario OWNER TO myr;

--
-- Name: funcionario_idfuncionario_seq; Type: SEQUENCE; Schema: public; Owner: myr
--

ALTER TABLE public.funcionario ALTER COLUMN idfuncionario ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.funcionario_idfuncionario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: paciente; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.paciente (
    idpaciente integer NOT NULL,
    nombre character varying(50),
    apellido character varying(50),
    rut character varying(12)
);


ALTER TABLE public.paciente OWNER TO myr;

--
-- Name: paciente_idpaciente_seq; Type: SEQUENCE; Schema: public; Owner: myr
--

ALTER TABLE public.paciente ALTER COLUMN idpaciente ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.paciente_idpaciente_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: resultadosconsulta; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.resultadosconsulta (
    idagendamiento integer NOT NULL,
    vino boolean,
    atendido boolean,
    horallegada time without time zone,
    vinodate timestamp without time zone,
    llamadodate timestamp without time zone
);


ALTER TABLE public.resultadosconsulta OWNER TO myr;

--
-- Name: tipofuncionario; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.tipofuncionario (
    idtipofuncionario integer NOT NULL,
    tipo character varying(50) NOT NULL
);


ALTER TABLE public.tipofuncionario OWNER TO myr;

--
-- Name: tipofuncionario_idtipofuncionario_seq; Type: SEQUENCE; Schema: public; Owner: myr
--

ALTER TABLE public.tipofuncionario ALTER COLUMN idtipofuncionario ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tipofuncionario_idtipofuncionario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: usuarios; Type: TABLE; Schema: public; Owner: myr
--

CREATE TABLE public.usuarios (
    nombre character varying(50) NOT NULL,
    "contraseña" character varying(100),
    rol character varying(30),
    informacionadicional json
);


ALTER TABLE public.usuarios OWNER TO myr;

--
-- Data for Name: agendamiento; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.agendamiento (idagendamiento, idbox, idfuncionario, idpaciente, fecha, horaentrada, horasalida) FROM stdin;
716	1	1	1	2025-08-18	12:00:00	12:30:00
\.


--
-- Data for Name: box; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.box (idbox, idespecialidadbox, pasillo) FROM stdin;
1	1	odontologia
2	1	broncoPulmonar
3	2	odontologia
4	1	broncoPulmonar
5	1	broncoPulmonar
6	2	broncoPulmonar
7	2	broncoPulmonar
8	2	broncoPulmonar
9	1	odontologia
10	1	broncoPulmonar
11	2	broncoPulmonar
12	1	odontologia
13	2	broncoPulmonar
14	2	odontologia
15	5	broncoPulmonar
16	2	odontologia
17	4	odontologia
18	1	odontologia
19	2	broncoPulmonar
20	2	broncoPulmonar
21	2	odontologia
\.


--
-- Data for Name: especialidadbox; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.especialidadbox (idespecialidadbox, especialidad) FROM stdin;
1	medicinaGeneral
2	cardioVascular
4	odontologia
5	broncoPulmonar
\.


--
-- Data for Name: estadoagendamiento; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.estadoagendamiento (idagendamiento, estado, fechaestado) FROM stdin;
716	En revisión	2025-08-17
\.


--
-- Data for Name: funcionario; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.funcionario (idfuncionario, idtipofuncionario, nombre, rut) FROM stdin;
1	4	Joaquin	24180083
2	2	Christian	23076154
3	4	Martina	21693663
4	4	Carla	26870604
5	4	Darienn	22231316
6	3	Larry	15431960
7	2	Carlos	13280903
8	2	Vicente	16818783
\.


--
-- Data for Name: paciente; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.paciente (idpaciente, nombre, apellido, rut) FROM stdin;
1	Christian	Arancibia	10143214
2	Valentina	Lopez	19590808
3	Valentina	Pinto	13053358
4	Camila	Sanchez	27588748
5	Benjamin	Pinto	22777577
6	Larry	Lopez	26754104
7	Vicente	Martinez	11182415
8	Vicente	Arancibia	12388127
9	Sebastian	Pino	16523815
10	Benjamina	Solano	14986965
11	Constanza	Delgado	14913102
12	Cristina	Solano	10630620
13	Martina	Sanchez	26745604
14	Christian	Solano	27736138
15	Joaquin	Rodriguez	22616368
16	Luis	Lopez	10373971
17	Valentina	Solano	14812036
18	Constanza	Pinto	26199203
19	Vicente	Pino	19060459
20	Benjamina	Solano	19456708
21	Martin	Rodriguez	26317421
22	Joaquin	Arancibia	15341433
23	Valentina	Delgado	17255690
24	Benjamina	Pinto	19780832
\.


--
-- Data for Name: resultadosconsulta; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.resultadosconsulta (idagendamiento, vino, atendido, horallegada, vinodate, llamadodate) FROM stdin;
\.


--
-- Data for Name: tipofuncionario; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.tipofuncionario (idtipofuncionario, tipo) FROM stdin;
1	medicoGeneral
2	encargadoDePasillo
3	enfermero
4	medicoBroncoPulmonar
5	medicoOdontologo
\.


--
-- Data for Name: usuarios; Type: TABLE DATA; Schema: public; Owner: myr
--

COPY public.usuarios (nombre, "contraseña", rol, informacionadicional) FROM stdin;
martin	123456	admin	\N
martin2	12345678	usuario	{"Hola":"Mundo"}
martin3	1234567898	nadie	\N
\.


--
-- Name: agendamiento_idagendamiento_seq; Type: SEQUENCE SET; Schema: public; Owner: myr
--

SELECT pg_catalog.setval('public.agendamiento_idagendamiento_seq', 717, true);


--
-- Name: box_idbox_seq; Type: SEQUENCE SET; Schema: public; Owner: myr
--

SELECT pg_catalog.setval('public.box_idbox_seq', 22, true);


--
-- Name: especialidadbox_idespecialidadbox_seq; Type: SEQUENCE SET; Schema: public; Owner: myr
--

SELECT pg_catalog.setval('public.especialidadbox_idespecialidadbox_seq', 5, true);


--
-- Name: funcionario_idfuncionario_seq; Type: SEQUENCE SET; Schema: public; Owner: myr
--

SELECT pg_catalog.setval('public.funcionario_idfuncionario_seq', 8, true);


--
-- Name: paciente_idpaciente_seq; Type: SEQUENCE SET; Schema: public; Owner: myr
--

SELECT pg_catalog.setval('public.paciente_idpaciente_seq', 24, true);


--
-- Name: tipofuncionario_idtipofuncionario_seq; Type: SEQUENCE SET; Schema: public; Owner: myr
--

SELECT pg_catalog.setval('public.tipofuncionario_idtipofuncionario_seq', 5, true);


--
-- Name: agendamiento agendamiento_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.agendamiento
    ADD CONSTRAINT agendamiento_pkey PRIMARY KEY (idagendamiento);


--
-- Name: box box_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.box
    ADD CONSTRAINT box_pkey PRIMARY KEY (idbox);


--
-- Name: especialidadbox especialidadbox_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.especialidadbox
    ADD CONSTRAINT especialidadbox_pkey PRIMARY KEY (idespecialidadbox);


--
-- Name: estadoagendamiento estadoagendamiento_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.estadoagendamiento
    ADD CONSTRAINT estadoagendamiento_pkey PRIMARY KEY (idagendamiento);


--
-- Name: funcionario funcionario_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.funcionario
    ADD CONSTRAINT funcionario_pkey PRIMARY KEY (idfuncionario);


--
-- Name: paciente paciente_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.paciente
    ADD CONSTRAINT paciente_pkey PRIMARY KEY (idpaciente);


--
-- Name: resultadosconsulta resultadosconsulta_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.resultadosconsulta
    ADD CONSTRAINT resultadosconsulta_pkey PRIMARY KEY (idagendamiento);


--
-- Name: tipofuncionario tipofuncionario_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.tipofuncionario
    ADD CONSTRAINT tipofuncionario_pkey PRIMARY KEY (idtipofuncionario);


--
-- Name: agendamiento un_agendamiento_box; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.agendamiento
    ADD CONSTRAINT un_agendamiento_box UNIQUE (idbox, fecha, horaentrada);


--
-- Name: usuarios usuarios_pkey; Type: CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT usuarios_pkey PRIMARY KEY (nombre);


--
-- Name: estadoagendamiento estadoagendamiento_idagendamiento_fkey; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.estadoagendamiento
    ADD CONSTRAINT estadoagendamiento_idagendamiento_fkey FOREIGN KEY (idagendamiento) REFERENCES public.agendamiento(idagendamiento);


--
-- Name: resultadosconsulta fk_agendamiento; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.resultadosconsulta
    ADD CONSTRAINT fk_agendamiento FOREIGN KEY (idagendamiento) REFERENCES public.agendamiento(idagendamiento);


--
-- Name: agendamiento fk_box; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.agendamiento
    ADD CONSTRAINT fk_box FOREIGN KEY (idbox) REFERENCES public.box(idbox);


--
-- Name: box fk_especialidadbox; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.box
    ADD CONSTRAINT fk_especialidadbox FOREIGN KEY (idespecialidadbox) REFERENCES public.especialidadbox(idespecialidadbox);


--
-- Name: agendamiento fk_funcionario; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.agendamiento
    ADD CONSTRAINT fk_funcionario FOREIGN KEY (idfuncionario) REFERENCES public.funcionario(idfuncionario);


--
-- Name: agendamiento fk_paciente; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.agendamiento
    ADD CONSTRAINT fk_paciente FOREIGN KEY (idpaciente) REFERENCES public.paciente(idpaciente);


--
-- Name: funcionario fk_tipofuncionario; Type: FK CONSTRAINT; Schema: public; Owner: myr
--

ALTER TABLE ONLY public.funcionario
    ADD CONSTRAINT fk_tipofuncionario FOREIGN KEY (idtipofuncionario) REFERENCES public.tipofuncionario(idtipofuncionario);


--
-- PostgreSQL database dump complete
--

